var Tinypopup=function(window,document){"use strict";function applyStyles(el,obj){var style;for(style in obj){if(obj.hasOwnProperty(style)){if(style==="top"||style==="left"||style==="width"||style==="height"){el.style[style]=obj[style]+"px"}else{el.style[style]=obj[style]}}}}function addShadow(){this.shadow=document.createElement("div");this.shadow.id="tinypopup-shadow";this.shadow.className="tinypopup-shadow";this.el.parentNode.appendChild(this.shadow)}function listen(el,name,callback){if(el.addEventListener){el.addEventListener(name,callback,false)}else{el.attachEvent("on"+name,callback)}}function bind(el,evt,context,callback){if(el){listen(el,evt,function(){return function(){callback.apply(context)}}(context))}}function tinypopup(el,onshow,onhide){if(!el.nodeName){el=document.getElementById(el)}this.el=el;this.w=0;this.h=0;this.el.className="tinypopup-content";this.onshow=onshow;this.onhide=onhide;addShadow.apply(this);bind(this.shadow,"click",this,this.hide);bind(window,"resize",this,this.resize);this.attachCloseButton()}tinypopup.prototype.attachCloseButton=function(){this.closeButton=this.el.querySelector(".tinypopup-closebutton");bind(this.closeButton,"click",this,this.hide)};tinypopup.prototype.show=function(w,h,content){this.w=w;this.h=h;this.shadow.className="tinypopup-shadow show";this.el.className="tinypopup-content show";if(content){this.el.innerHTML="";this.el.appendChild(content)}this.attachCloseButton();this.resize();this.onshow(this.el)};tinypopup.prototype.hide=function(){this.shadow.className="tinypopup-shadow";this.el.className="tinypopup-content";this.onhide(this.el)};tinypopup.prototype.resize=function(){var cw=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,ch=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight};return tinypopup}(window,document);